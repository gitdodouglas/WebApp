<section class="itens">
    <div class="menu-itens">
        <div class="container">
            <div class="voltar" (click)="locationBack()">
                <svg aria-hidden="true" data-prefix="far" data-icon="chevron-left" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512" class="svg-inline--fa fa-chevron-left fa-w-8 fa-7x"><path fill="currentColor" d="M231.293 473.899l19.799-19.799c4.686-4.686 4.686-12.284 0-16.971L70.393 256 251.092 74.87c4.686-4.686 4.686-12.284 0-16.971L231.293 38.1c-4.686-4.686-12.284-4.686-16.971 0L4.908 247.515c-4.686 4.686-4.686 12.284 0 16.971L214.322 473.9c4.687 4.686 12.285 4.686 16.971-.001z" class=""></path></svg>
            </div>
            <div class="nome-lista" *ngIf="lista">
                <h1>{{lista.nome}}</h1>
                <span id="idLista" style="visibility: hidden">{{lista.id}}</span>
            </div>
            <div class="opcoes" (click)="toggleModalOpcoes()">
                <svg aria-hidden="true" data-prefix="far" data-icon="ellipsis-v" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 512" class="svg-inline--fa fa-ellipsis-v fa-w-4 fa-7x"><path fill="currentColor" d="M64 208c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM16 104c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48-48 21.5-48 48zm0 304c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48-48 21.5-48 48z" class=""></path></svg>
            </div>
        </div>
    </div>

    <div class="conteudo">
        <div class="listas container">
            <ul>
                <li *ngFor="let item of itens">
                    <div class="icone">
                        <svg aria-hidden="true" data-prefix="far" data-icon="cart-arrow-down" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-cart-arrow-down fa-w-18 fa-7x"><path fill="currentColor" d="M551.991 64H144.28l-8.726-44.608C133.35 8.128 123.478 0 112 0H12C5.373 0 0 5.373 0 12v24c0 6.627 5.373 12 12 12h80.24l69.594 355.701C150.796 415.201 144 430.802 144 448c0 35.346 28.654 64 64 64s64-28.654 64-64a63.681 63.681 0 0 0-8.583-32h145.167a63.681 63.681 0 0 0-8.583 32c0 35.346 28.654 64 64 64 35.346 0 64-28.654 64-64 0-18.136-7.556-34.496-19.676-46.142l1.035-4.757c3.254-14.96-8.142-29.101-23.452-29.101H203.76l-9.39-48h312.405c11.29 0 21.054-7.869 23.452-18.902l45.216-208C578.695 78.139 567.299 64 551.991 64zM208 472c-13.234 0-24-10.766-24-24s10.766-24 24-24 24 10.766 24 24-10.766 24-24 24zm256 0c-13.234 0-24-10.766-24-24s10.766-24 24-24 24 10.766 24 24-10.766 24-24 24zm23.438-200H184.98l-31.31-160h368.548l-34.78 160zm-91.923-59.515l-51.029 51.029c-4.686 4.686-12.284 4.686-16.971 0l-51.029-51.029c-7.56-7.56-2.206-20.485 8.485-20.485H312v-52c0-6.627 5.373-12 12-12h24c6.627 0 12 5.373 12 12v52h27.029c10.691 0 16.045 12.926 8.486 20.485z" class=""></path></svg>
                    </div>
                    <div class="espelho-lista">
                        <h2>{{item.nome}}</h2>
                        <p>{{item.qtditem}} x R$ {{item.vlunitario}} = R$ {{item.vlunitario * item.qtditem}}</p>
                        <span id="idLista" style="visibility: hidden" #spanlistaId> {{lista.id}} </span>
                    </div>
                    <div class="remove" (click)="removeItem(item)">
                        <a>
                            <svg aria-hidden="true" data-prefix="far" data-icon="minus-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-minus-circle fa-w-16 fa-7x"><path fill="currentColor" d="M140 284c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h232c6.6 0 12 5.4 12 12v32c0 6.6-5.4 12-12 12H140zm364-28c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-48 0c0-110.5-89.5-200-200-200S56 145.5 56 256s89.5 200 200 200 200-89.5 200-200z" class=""></path></svg>
                        </a>
                    </div>
                </li>
            </ul>
        </div>
    </div>

    <div class="barra-total">
        <h1>Valor total: R$</h1>
    </div>

    <div class="add-lista" (click)="toggleModalAdd()" (click)="getProdutos()">
        <svg aria-hidden="true" data-prefix="fas" data-icon="plus-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-plus-circle fa-w-16 fa-7x"><path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z" class=""></path></svg>
    </div>

    <div class="modal" [ngClass]="{'is-active' : isModalActiveAdd}">
        <div class="modal-background" (click)="toggleModalAdd()"></div>
        <div class="modal-content">
            <div class="box">
                <div class="card-content">
                    <div class="select is-medium">
                        <select (change)="pegaId($event.target.value)"> <!-- ng* for com produtos cadastrados-->
                            <option *ngFor="let produto of produtos" [value]="produto.id" >{{ produto.id }} {{ produto.nome }}</option>
                        </select>
                    </div>
                    <input type="number" class="input is-medium" placeholder="Quantidade" #inputItemQtde><br>
                    <input type="number" class="input is-medium" placeholder="Valor (R$)" #inputItemValor>
                    <input type="text" value="" #inputItemDesc>
                </div>
                <footer class="card-footer">
                    <a class="card-footer-item" (click)="toggleModalAdd()">Cancelar</a>
                    <a class="card-footer-item" (click)="adicionaProduto(inputItemQtde.value, inputItemValor.value, inputItemDesc.value)">Adicionar</a>
                </footer>
            </div>
        </div>
    </div>

    <div class="modal" [ngClass]="{'is-active' : isModalActiveOpcoes}">
        <div class="modal-background" (click)="toggleModalOpcoes()"></div>
        <div class="modal-content">
            <div class="box modal-opcoes">
                <ul class="has-text-centered">
                    <li><a (click)="toggleModalNome(); toggleModalOpcoes()">Alterar o nome da lista</a></li>
                    <li><a (click)="toggleModalShare(); toggleModalOpcoes()">Compartilhar lista</a></li>
                    <li><a>APAGAR LISTA</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="modal" [ngClass]="{'is-active' : isModalActiveNome}" *ngIf="lista">
        <div class="modal-background" (click)="toggleModalNome()"></div>
        <div class="modal-content">
            <div class="box">
                <div class="card-content">
                    <input type="text" class="input is-large" placeholder="Nome da lista" value="{{lista.nome}}" #inputListName>
                </div>
                <footer class="card-footer">
                    <a class="card-footer-item" (click)="toggleModalNome()">Cancelar</a>
                    <a class="card-footer-item">Alterar</a>
                </footer>
            </div>
        </div>
    </div>

    <div class="modal" [ngClass]="{'is-active' : isModalActiveShare}">
        <div class="modal-background" (click)="toggleModalShare()"></div>
        <div class="modal-content">
            <div class="box">
                <div class="card-content">
                    <input type="text" class="input is-large" placeholder="E-mail do usuÃ¡rio" #inputShareEmail>
                </div>
                <footer class="card-footer">
                    <a class="card-footer-item" (click)="toggleModalShare()">Cancelar</a>
                    <a class="card-footer-item">Compartilhar</a>
                </footer>
            </div>
        </div>
    </div>
</section>
